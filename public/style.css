// ğŸš€ æ¸¸æˆæ ¸å¿ƒæ§åˆ¶å™¨
class GameMaster {
  constructor() {
    this.mode = 'local';  // å½“å‰æ¨¡å¼ï¼šlocal/ai/online
    this.board = Array(9).fill('');
    this.currentPlayer = 'X';
    this.aiDifficulty = 'easy';
    this.roomId = null;
    
    // ğŸ”¥ Firebaseåˆå§‹åŒ–
    this.firebaseConfig = {
      apiKey: process.env.FIREBASE_KEY,
      databaseURL: process.env.FIREBASE_DB_URL,
      projectId: process.env.FIREBASE_PROJECT
    };
    this.app = firebase.initializeApp(this.firebaseConfig);
    this.db = firebase.database();
    
    this.initBoard();
  }

  // ğŸ® åˆå§‹åŒ–æ£‹ç›˜
  initBoard() {
    const board = document.getElementById('board');
    board.innerHTML = '';
    
    this.board.forEach((_, index) => {
      const cell = document.createElement('div');
      cell.className = 'cell';
      cell.onclick = () => this.handleMove(index);
      board.appendChild(cell);
    });
  }

  // ğŸ¤– AIå†³ç­–ç³»ç»Ÿ
  aiMove() {
    const strategies = {
      easy: () => this.randomMove(),
      medium: () => this.defensiveMove(),
      hard: () => this.minimax(this.board, 'O').index
    };
    
    const move = strategies[this.aiDifficulty]();
    setTimeout(() => this.makeMove(move), 500);  // æ¨¡æ‹Ÿæ€è€ƒå»¶è¿Ÿ
  }

  // âš”ï¸ æå°åŒ–æå¤§ç®—æ³•
  minimax(board, player) {
    // ...ç®—æ³•å®ç°ï¼ˆåŒå‰æ–‡ï¼‰...
  }
}

// ğŸš¦ å¯åŠ¨æ¸¸æˆ
const game = new GameMaster();